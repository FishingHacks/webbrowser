<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <script>if (location.protocol == "peacock:" || location.protocol == "about:") {
        location.protocol = "browser:";
        //location.reload();
      }</script>
    <meta charset="utf-8">
    <title>About Version</title>

    <link href="assets://global.css" rel="stylesheet" type="text/css">
    <style>
      * { border-color: var(--foreground) !important; }

      body { background: var(--background); }

      .table {
        border-collapse: collapse;
        position: absolute;
        width: 50%;
        top: 5rem;
        left: 0;
        right: 0;
        margin: auto;
      }

      table, th, td {
        border: 1px solid;
        padding: 15px;
      }
    </style>
  </head>
  <body style="display: none;">
    <table class="table table-bordered table-hover table-condensed">
      <thead><tr><th title="Field #1">Name</th>
      <th title="Field #2">Value</th>
      </tr></thead>
      <tbody>
        <tr>
        <td>User Agent</td>
        <td id="user-agent">USER_AGENT_HERE</td>
        </tr>

        <tr>
        <td>Chrome</td>
        <td id="chrome">CHROME_VERSION_HERE</td>
        </tr>

        <tr>
        <td>Node</td>
        <td id="node">NODE_VERSION_HERE</td>
        </tr>

        <tr>
        <td>Electron</td>
        <td id="electron">ELECTRON_VERSION_HERE</td>
        </tr>

        <tr>
        <td>Browser</td>
        <td id="peacock">BROWSER_VERSION_HERE</td>
        </tr>
      </tbody>
    </table>
  </body>
  <script type="text/javascript">
    let theme = sendSync('getTheme');
    if(theme != 'light') document.querySelector("head").innerHTML += '<link rel="stylesheet" href="assets://themes/' + theme + '.css">';

    function getUserAgent() {
      return navigator.userAgent;
    }

    function setVersions(versions) {
      document.getElementById('user-agent').innerHTML = getUserAgent();
      document.getElementById('chrome').innerHTML = versions.chrome;
      document.getElementById('node').innerHTML = versions.node;
      document.getElementById('electron').innerHTML = versions.electron;
      document.getElementById('peacock').innerHTML = versions.peacock;

      document.body.style.display = 'block';
    }

    setVersions(sendSync('getVersions'));
  </script>
</html>
